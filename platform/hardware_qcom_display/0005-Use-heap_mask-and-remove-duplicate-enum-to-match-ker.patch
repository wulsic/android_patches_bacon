From 1eac50c12e0674654826c0aa85fd79f56a403684 Mon Sep 17 00:00:00 2001
From: Hamster Tian <haotia@gmail.com>
Date: Fri, 26 Aug 2016 16:42:49 +0800
Subject: [PATCH 5/5] Use heap_mask and remove duplicate enum to match kernel
 header

Change-Id: Id070dd21aa8beb1297614f145708426ede2445d5
---
 msm8974/libgralloc/ionalloc.cpp  | 2 +-
 msm8974/libqdutils/mdp_version.h | 3 ++-
 2 files changed, 3 insertions(+), 2 deletions(-)

diff --git a/msm8974/libgralloc/ionalloc.cpp b/msm8974/libgralloc/ionalloc.cpp
index 144d457..5db6472 100644
--- a/msm8974/libgralloc/ionalloc.cpp
+++ b/msm8974/libgralloc/ionalloc.cpp
@@ -73,7 +73,7 @@ int IonAlloc::alloc_buffer(alloc_data& data)
 
     ionAllocData.len = data.size;
     ionAllocData.align = data.align;
-    ionAllocData.heap_id_mask = data.flags & ~ION_SECURE;
+    ionAllocData.heap_mask = data.flags & ~ION_SECURE;
     ionAllocData.flags = data.uncached ? 0 : ION_FLAG_CACHED;
     // ToDo: replace usage of alloc data structure with
     //  ionallocdata structure.
diff --git a/msm8974/libqdutils/mdp_version.h b/msm8974/libqdutils/mdp_version.h
index 316899f..631488e 100644
--- a/msm8974/libqdutils/mdp_version.h
+++ b/msm8974/libqdutils/mdp_version.h
@@ -53,12 +53,13 @@ enum mdp_version {
     MDSS_V5     = 500,
 };
 
+/* Already in kernel
 enum mdp_rev {
     MDSS_MDP_HW_REV_100 = 0x10000000,
     MDSS_MDP_HW_REV_101 = 0x10010000, //8x26
     MDSS_MDP_HW_REV_102 = 0x10020000,
 };
-
+*/
 enum {
     MAX_DISPLAY_DIM = 2048,
 };
-- 
2.1.4

